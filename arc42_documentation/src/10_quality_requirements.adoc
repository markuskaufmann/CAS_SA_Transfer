[[section-quality-requirements]]
== Qualitätsanforderungen

In diesem Kapitel werden die nicht-funktionalen bzw. Qualitätsanforderungen an PhysioConnect anhand der Definition expliziter Szenarien konkretisiert. Die wichtigsten Szenarien werden in Form eines Quality Trees gemäss ATAM (Architecture Tradeoff Analysis Method) ihrer Relevanz entsprechend priorisiert / gewichtet.

Die primären Qualitätsziele von PhysioConnect sind im Kapitel link:01_introduction_and_goals.adoc#section-quality-goals[Qualitätsziele] vorzufinden.

=== Qualitätsszenarien

Gemäss den primären link:01_introduction_and_goals.adoc#section-quality-goals[Qualitätszielen] werden die aus Sicht der Stakeholder erwarteten Qualitätsattribute der Systemarchitektur in Form von messbaren Szenarien nachfolgend erläutert. +
Die mit __(Erweiterung)__ gekennzeichneten Szenarien sind ein potentieller Bestandteil zukünftiger Versionen / Iterationen der Systemarchitektur.

==== Interoperability (Compatibility)
Die interoperability Szenarien basieren auf der folgenden Definition:

[cols="2,6"]
|===
|**ID**|SZ-IOP-X
|**Quelle des Stimulus**|A system initiates a request to interoperate with another system
|**Stimulus**|A request to exchange information among system(s)
|**Umgebung**|System(s) wishing to interoperate are discovered at runtime or known prior to runtime 
|**System / Artefakte**|The systems that Wish to interoperate 
|**Antwort / Verhalten**|One or more Of the following: 

- The request is (appropriately) rejected and appropriate entities (people or 
systems) are notified 

- The request is (appropriately) accepted and information is exchanged 
successfully 

- The request is logged by one or more Of the involved systems 
|**Metrik für Erfüllungsgrad**|One or more of the following: 

- Percentage of information exchanges correctly processed

- percentage of information exchanges correctly rejected 
|===

Effektive Szenarien, welche sich auf Qualitätsziel QG-1 (Interoperability) beziehen.

[cols="2,6"]
|===
|**ID**|SZ-IOP-1
|**Quelle des Stimulus**|Smartphone-App sendet API request
|**Stimulus**|Request zum Speichern der übungsrelevanten Messdaten (z.B. Puls, Blutdruck) gesendet
|**Umgebung**|Systeme, welche bereits vor der Laufzeit bekannt waren
|**System / Artefakte**|PhysioConnect / API Request Handler für App
|**Antwort / Verhalten**|Sind die enthaltenen Messdaten des eingehenden Requests formal korrekt, werden diese abgespeichert und mit dem Patienten sowie der aktuellen Therapie-Session und Übung verknüpft. +
Sind die Messdaten formal inkorrekt oder ein Fehler tritt bei der Persistierung auf, wird der Request geloggt und ein entsprechender Fehlercode wird als Response zurückgegeben.
|**Metrik für Erfüllungsgrad**|99.99% aller eingehenden Requests mit formal korrekten Messdaten werden erwartungsgemäss abgespeichert. +
0% der Requests mit formal inkorrekten Messdaten werden abgespeichert. +
99.99% der Requests mit formal inkorrekten Messdaten oder auftretenden Fehlern werden geloggt und führen zu einer Response mit Fehlercode.
|===

[cols="2,6"]
|===
|**ID**|SZ-IOP-2
|**Quelle des Stimulus**|Smartphone-App sendet API request
|**Stimulus**|Request zum Ausführung einer Operation bezüglich einer Therapie-Session gesendet
|**Umgebung**|Systeme, welche bereits vor der Laufzeit bekannt waren
|**System / Artefakte**|PhysioConnect / API Request Handler für App
|**Antwort / Verhalten**|Ist der eingehende Request formal korrekt, wird die entsprechende Operation intern verarbeitet und allfällige Zustandsänderungen persistiert (z.B. Start der Therapie-Session ändert deren Status). +
Ist der eingehende Request formal inkorrekt oder ein Fehler tritt während der internen Verarbeitung auf, wird der Request geloggt und ein entsprechender Fehlercode wird als Response zurückgegeben.
|**Metrik für Erfüllungsgrad**|99.99% aller eingehenden, formal korrekten Requests werden intern verarbeitet und etwaige Zustandsänderungen abgespeichert. +
0% der formal inkorrekten Requests verlassen den Request Handler zur internen Verarbeitung. +
99.99% der formal inkorrekten Requests oder auftretenden Fehler werden geloggt und führen zu einer Response mit Fehlercode.
|===

[cols="2,6"]
|===
|**ID**|SZ-IOP-3
|**Quelle des Stimulus**|Smartphone-App oder PhysioConnect sendet API request
|**Stimulus**|Request zum Verwalten von Übungen - Create, Read, Update, Archive gesendet
|**Umgebung**|Systeme, welche bereits vor der Laufzeit bekannt waren
|**System / Artefakte**|PhysioConnect / API Response Handler für Übungskatalog, interne Layer
|**Antwort / Verhalten**|Die Operation für das Lesen, Erstellen, Aktualisieren oder Archivieren einer Übung wird inkl. Payload an den Übungskatalog weitergeleitet. +
Eine erfolgreiche Response des Übungskatalogs wird in eine entsprechende Antwort gemäss PhysioConnect-API Contract transformiert und zurückgegeben. +
Eine fehlerhafte Response des Übungskatalogs wird geloggt und führt zu einer Antwort der PhysioConnect-API mit entsprechendem Fehlercode.
|**Metrik für Erfüllungsgrad**|100% aller betroffenen Requests werden an den Übungskatalog weitergeleitet. +
99.99% der erfolgreichen Responses vom Übungskatalog führen wiederum zu einer Response mit erfolgreichem Status. +
99.99% der fehlerhaften Responses vom Übungskatalog werden geloggt und führen wiederum zu einer Response mit Fehlercode.
|===

[cols="2,6"]
|===
|**ID**|SZ-IOP-4
|**Quelle des Stimulus**|Smartphone-App oder PhysioConnect sendet API request
|**Stimulus**|Request zum Upload von Detailinformationen (Text, Bilder, Video, Audio) zu einer bestehenden Übung gesendet
|**Umgebung**|Systeme, welche bereits vor der Laufzeit bekannt waren
|**System / Artefakte**|PhysioConnect / API Response Handler für Übungskatalog, interne Layer
|**Antwort / Verhalten**|Die Operation für den Upload von Detailinformation zu einer Übung wird inkl. Payload an den Übungskatalog weitergeleitet. +
Eine erfolgreiche Response des Übungskatalogs wird in eine entsprechende Antwort gemäss PhysioConnect-API Contract transformiert und zurückgegeben. +
Eine fehlerhafte Response des Übungskatalogs wird geloggt und führt zu einer Antwort der PhysioConnect-API mit entsprechendem Fehlercode.
|**Metrik für Erfüllungsgrad**|100% aller betroffenen Requests werden an den Übungskatalog weitergeleitet. +
99.99% der erfolgreichen Responses vom Übungskatalog führen wiederum zu einer Response mit erfolgreichem Status. +
99.99% der fehlerhaften Responses vom Übungskatalog werden geloggt und führen wiederum zu einer Response mit Fehlercode.
|===

[cols="2,6"]
|===
|**ID**|SZ-IOP-5
|**Quelle des Stimulus**|Smartphone-App oder PhysioConnect sendet API request
|**Stimulus**|Request zum Laden von Benutzerinformationen gesendet
|**Umgebung**|Systeme, welche bereits vor der Laufzeit bekannt waren
|**System / Artefakte**|PhysioConnect / API Response Handler für Benutzerverwaltung, interne Layer
|**Antwort / Verhalten**|Requests bzw. interne Funktionen, welche Benutzerinformationen benötigen, setzen einen entsprechenden Request an die Benutzerverwaltung ab. +
Eine erfolgreiche Response der Benutzerverwaltung wird zur weiteren Verarbeitung verwendet und - falls definiert - als Teil der entsprechenden Response der PhysioConnect-API zurückgegeben. +
Eine fehlerhafte Response der Benutzerverwaltung wird geloggt und führt zu einer Antwort der PhysioConnect-API mit entsprechendem Fehlercode.
|**Metrik für Erfüllungsgrad**|100% aller betroffenen Requests werden an die Benutzerverwaltung weitergeleitet. +
99.99% der erfolgreichen Responses von der Benutzerverwaltung können intern weiterverwendet werden (= ohne auftretende Fehler). +
99.99% der fehlerhaften Responses von der Benutzerverwaltung werden geloggt und führen wiederum zu einer Response mit Fehlercode.
|===

[cols="2,6"]
|===
|**ID**|SZ-IOP-6 (Erweiterung)
|**Quelle des Stimulus**|Dokumentationssysteme oder PhysioConnect sendet API request
|**Stimulus**|Request für Datenimport aus dem Dokumentationssystem (API oder File Upload) gesendet
|**Umgebung**|Systeme, welche bereits vor der Laufzeit bekannt waren
|**System / Artefakte**|PhysioConnect / API Request Handler für Dokumentationssystem, interne Layer
|**Antwort / Verhalten**|Die zu importierenden Daten werden gemäss der vorgegebenen API / Upload File-Struktur eingelesen und formal geprüft. Sind die Daten formal korrekt, werden sie intern verarbeitet und persistiert. Die PhysioConnect-API gibt einen erfolgreichen Response-Status zurück. +
Sind die Daten formal inkorrekt oder ein Fehler tritt während der internen Verarbeitung oder Persistierung auf, wird der fehlgeschlagene Import-Versuch geloggt und eine entsprechende Antwort der PhysioConnect-API mit Fehlercode zurückgegeben.
|**Metrik für Erfüllungsgrad**|99.99% aller eingehenden, formal korrekten Requests werden intern verarbeitet und schlussendlich abgespeichert. +
0% der formal inkorrekten Requests verlassen den Request Handler zur internen Verarbeitung. +
99.99% der formal inkorrekten Requests oder auftretenden Fehler werden geloggt und führen zu einer Response mit Fehlercode.
|===

==== Confidentiality (Security)

Die confidentiality Szenarien basieren auf der folgenden Security Szenario Template:

[cols="2,6"]
|===
|**ID**|SZ-CNF-X
|**Quelle des Stimulus**|Human or another system which may have been previously identified (either correctly or incorrectly) or may be currently unknown. A human attacker may be from outside the organization or from inside the organization
|**Stimulus**|Unauthorized attempt is made to display data, change or delete data, access system services, change the system's behavior, or reduce availability 
|**Umgebung**|The system is either online or offline; either connected to or disconnected 
from a network; either behind a firewall or open to a network; fully
operational, partially operational, or not operational
|**System / Artefakte**|System services, data within the system, a component or resources of the 
system, data produced or consumed by the system 
|**Antwort / Verhalten**|Transactions are carried out in a fashion such that 

- Data or services are protected from unauthorized access. 

- Data or services are not being manipulated Without authorization. 

- Parties to a transaction are identified with assurance. 

- The parties to the transaction cannot repudiate their involvements. 

- The data, resources, and system services will be available for legitimate use. 

The system tracks activities within it by 

- Recording access or modification 

- Recording attempts to access data, resources, or services 

- Notifying appropriate entities attack is occurring 

|**Metrik für Erfüllungsgrad**|One or more of the following: 

- How much of a system is compromised when a particular component or data value is compromised 

- How much time passed before an attack was detected 

- How many attacks were resisted 

- How long does it take to recover from a successful attack 

- How much data is vulnerable to a particular attack 

|===

Szenarien, welche sich auf Qualitätsziel QG-2 (Confidentiality) beziehen.

[cols="2,6"]
|===
|**ID**|SZ-CNF-1
|**Quelle des Stimulus**|Identifizierter Patient via Smartphone-App
|**Stimulus**|Speichern der übungsrelevanten Messdaten (z.B. Puls, Blutdruck)
|**Umgebung**|Voll einsatzfähiges online System, Request von ausserhalb des PhysioConnect Netzwerkes
|**System / Artefakte**|PhysioConnect / API Request Handler für App
|**Antwort / Verhalten**|Die Messdaten werden verschlüsselt entgegengenommen (API ist nur via TLS / SSL verwendbar) und formal geprüft. Formal korrekte Messdaten werden direkt in einem verschlüsselten Datenspeicher abgelegt, wo sie nur innerhalb des internen Systemnetzwerks zugreif- / auslesbar sind. In betroffenem Datenspeicher sind die Messdaten nicht anonymisiert abgelegt, da sie zu Auswertungs- und Analysezwecken dem Patienten und der jeweiligen Übung / Therapie-Session zugeordnet werden müssen. +
Sind die Messdaten formal inkorrekt oder ein Fehler tritt während der internen Verarbeitung oder Persistierung auf, wird der Request geloggt (ohne die konkreten Messdaten) und eine entsprechende Response mit Fehlercode zurückgegeben.
|**Metrik für Erfüllungsgrad**|100% der verarbeiteten Requests zur Speicherung der Messdaten verlaufen über einen verschlüsselten Kommunikationskanal. +
Der Datenspeicher mit den Messdaten ist ausserhalb des Systemnetzwerks nicht direkt erreichbar. +
100% der formal inkorrekten Requests oder auftretenden Fehler werden geloggt und führen zu einer Response mit Fehlercode. Die Logs enthalten keine expliziten Messdaten oder Patienteninformationen.
|===

[cols="2,6"]
|===
|**ID**|SZ-CNF-2
|**Quelle des Stimulus**|Identifizierter Patient via Smartphone-App
|**Stimulus**|Abrufen der Messdaten eines anderen Patienten
|**Umgebung**|Voll einsatzfähiges online System, Request von ausserhalb des PhysioConnect Netzwerkes
|**System / Artefakte**|PhysioConnect / API Request Handler für App
|**Antwort / Verhalten**|Die Anfrage wird entgegengenommen und das darin enthaltene Access Token überprüft. Der Patient wird korrekt authentifiziert und es wird überprüft, ob der Patient Zugriff auf die angeforderten Daten besitzt. Da die Daten einem Anderen Patienten zugewiesen sind, wird eine 403 Response zurückgesendet und der Vorfall wird als potentieller angriffsversuch geloggt.
|**Metrik für Erfüllungsgrad**|Bei 100% der Requests werden keine Messdaten zurückgeliefert. Bei 99.9% der Requests wird eine Response mit Fehlercode 403 geliefert.
99.9% der Requests werded korrekt geloggt und als potentielle Angriffe markiert und auf den verwendetetn Benutzeraccount verwiesen, sodass bei wiederholten Angriffen Massnahmen ergriffen werden können.
|===

[cols="2,6"]
|===
|**ID**|SZ-CNF-3
|**Quelle des Stimulus**|Unidentifizierte Person via Smartphone-App
|**Stimulus**|Abrufen der Messdaten mit einem ungültigen Access Token

|**Umgebung**|Voll einsatzfähiges online System, Request von ausserhalb des PhysioConnect Netzwerkes
|**System / Artefakte**|PhysioConnect / API Request Handler für App
|**Antwort / Verhalten**|Die Anfrage wird entgegengenommen und das darin enthaltene Access Token überprüft. Der Benutzername und die ID des Patienten sind dabei korrekt gesetzt. Das Token wird an die Security Komponente weitergeleited und validiert. Da das Token ungültig ist, beantwortet Physio Connect den Request mit einem Fehlercode von 403 Unauthorized.
|**Metrik für Erfüllungsgrad**|Bei 100% der Requests werden keine Messdaten zurückgeliefert. Bei 99.9% der Requests wird eine Response mit Fehlercode 403 geliefert.
99.9% der Requests werded korrekt geloggt und als potentielle Angriffe markiert, sodass bei wiederholten Angriffen Massnahmen ergriffen werden können.
|===

[cols="2,6"]
|===
|**ID**|SZ-CNF-4 (Erweiterung)
|**Quelle des Stimulus**|Identifizierter Physiotherapeut via PhysioConnect
|**Stimulus**|Physiotherapeut markiert Therapie als abgeschlossen
|**Umgebung**|Voll einsatzfähiges online System, Request von innerhalb des PhysioConnect Netzwerkes
|**System / Artefakte**|PhysioConnect / API Response Handler für EPD
|**Antwort / Verhalten**|Alle patientenbezogenen Therapiedaten werden in aggregierter Form an das https://www.patientendossier.ch/[Elektronische Patientendossier (EPD)] weitergeleitet. Die Kommunikation verläuft dabei über vordefinierte Schnittstellen / Protokolle sowie über eine verschlüsselte Verbindung. Die Daten sind nicht anonymisiert, da sie Teil der persönlichen Dokumente eines Patienten darstellen. +
Die Datenübermittlung erfolgt nur für diejenigen Patienten, welche der Weitergabe ihrer Gesundsheitsdaten zu Beginn der Therapie zugestimmt haben. 
|**Metrik für Erfüllungsgrad**|0% der Daten können während der Übermittlung aus dem Kommunikationskanal / -protokoll extrahiert oder entschlüsselt werden. +
Das Initiieren und potentielle Fehlschlagen der Datenübermittlung wird geloggt, jedoch keine patientenbezogenen (Mess-)Daten.
|===

==== Modifiability (Maintainability)
Die modifiability Szenarien basieren auf dem folgenden Modifiability Szenario Template:

[cols="2,6"]
|===
|**ID**|SZ-MOD-X
|**Quelle des Stimulus**|End user, developer, system administrator
|**Stimulus**|A directive to add/delete/modify functionality, or change a quality attribute, capacity, or technology 
|**Umgebung**|Runtime, compile time, build time, initiation time, design time
|**System / Artefakte**|Code, data, interfaces, components, resources, configurations, ...
|**Antwort / Verhalten**|One or more Of the following: 

- Make modification, Test modification, Deploy modification 
|**Metrik für Erfüllungsgrad**|Cost in terms of the following: 

- Number. size. complexity Of affected artifacts 

- Effort, Calendar time, Money (direct outlay or opportunity cost) 

- Extent to which this modification affects other functions or quality attributes 

- New defects introduced 
|===

Szenarien, welche sich auf Qualitätsziel QG-3 (Modifiability) beziehen.

[cols="2,6"]
|===
|**ID**|SZ-MOD-1
|**Quelle des Stimulus**|Physiotherapeut
|**Stimulus**|Will Unterstützung für einen neuen Messdatentyp zur besseren Auswertung von Therapien (z.B. Körpertemperatur)
|**Umgebung**|Entwicklungszeit
|**System / Artefakte**|PhysioConnect / API für App, interne Layer (bis hin zu Persistenzschicht)
|**Antwort / Verhalten**|Das Entwicklungsteam entwirft, implementiert, testet und deployed eine Erweiterung der technisch unterstützten Messdatentypen. Der Umfang der Änderung spannt sich von der App-API bis hin zur Persistenzschicht.
|**Metrik für Erfüllungsgrad**|Die Erweiterung ist innerhalb von 3 Personentagen realisierbar (Design, Implement, Test, Deploy). +
100% der bisherigen Tests (Unit, Integration, E2E) können fehlerfrei ausgeführt werden. +
Im Rahmen von Smoke Tests auf einer deployten Umgebung kommen keine Bugs zum Vorschein, welche mit den gemachten Änderungen korrelieren. +
Die Erweiterung ist rückwärtskompatibel - Übungen, welche den neuen Messdatentyp nicht benötigen, müssen diesen für eine einwandfreie Funktionalität auch nicht aufzeichnen.
|===

[cols="2,6"]
|===
|**ID**|SZ-MOD-2
|**Quelle des Stimulus**|Entwickler
|**Stimulus**|Will ein alternativen Datenformat / -protokoll für ressourcenoptimierte Übermittlung der Messdaten unterstützen (z.B. JSON anstelle von XML)
|**Umgebung**|Entwicklungszeit
|**System / Artefakte**|PhysioConnect / API für App
|**Antwort / Verhalten**|Das Entwicklungsteam enwirft, implementiert, testet und deployed eine parallel verwendbare Version der App-API, welche das gewünschte Datenformat / -protokoll unterstützt. Für die internen Layer sollten keine nennenswerten Änderungen resultieren.
|**Metrik für Erfüllungsgrad**|Die Erweiterung ist innerhalb von 1 Personenwoche realisierbar (Design, Implement, Test, Deploy). +
100% der bisherigen Tests (Unit, Integration, E2E) können fehlerfrei ausgeführt werden. +
Im Rahmen von Smoke Tests auf einer deployten Umgebung kommen keine Bugs zum Vorschein, welche mit den gemachten Änderungen korrelieren. +
Konsumenten der ursprünglichen Version der App-API müssen keinerlei Anpassungen vornehmen, da die neue API-Version parallel und unabhängig dazu betrieben wird.
|===

[cols="2,6"]
|===
|**ID**|SZ-MOD-3
|**Quelle des Stimulus**|Entwickler
|**Stimulus**|Ändert/Erweitert die API des Übungskatalogs
|**Umgebung**|Entwicklungszeit
|**System / Artefakte**|PhysioConnect / API Connector für Übungskatalog
|**Antwort / Verhalten**|Das Entwicklungsteam implementiert, testet und deployed eine neue Version von PhysioConnect, welche die Änderungen an der Übungskatalog-API unterstützt. Je nach Änderung können seitens PhysioConnect nebst dem API Connector auch die internen Layer (bis hin zur Persistenzschicht) von Anpassungen betroffen sein.
|**Metrik für Erfüllungsgrad**|Die Anpassung an die Änderungen der Übungskatalog-API ist innerhalb von 3 Personentagen realisierbar (Implement, Test, Deploy) sofern lediglich der API Connector davon betroffen ist, ansonsten innerhalb von 1-2 Personenwochen. +
100% der bisherigen Tests (Unit, Integration, E2E) können fehlerfrei ausgeführt werden. +
Im Rahmen von Smoke Tests auf einer deployten Umgebung kommen keine Bugs zum Vorschein, welche mit den gemachten Änderungen korrelieren.
|===

[cols="2,6"]
|===
|**ID**|SZ-MOD-4
|**Quelle des Stimulus**|Entwickler
|**Stimulus**|Ändert/Erweitert die API der Benutzerverwaltung
|**Umgebung**|Entwicklungszeit
|**System / Artefakte**|PhysioConnect / API Connector für Benutzerverwaltung
|**Antwort / Verhalten**|Das Entwicklungsteam implementiert, testet und deployed eine neue Version von PhysioConnect, welche die Änderungen an der Benutzerverwaltung-API unterstützt. Je nach Änderung können seitens PhysioConnect nebst dem API Connector auch die internen Layer (bis hin zur Persistenzschicht) von Anpassungen betroffen sein.
|**Metrik für Erfüllungsgrad**|Die Anpassung an die Änderungen der Benutzerverwaltung-API ist innerhalb von 3 Personentagen realisierbar (Implement, Test, Deploy) sofern lediglich der API Connector davon betroffen ist, ansonsten innerhalb von 1-2 Personenwochen. +
100% der bisherigen Tests (Unit, Integration, E2E) können fehlerfrei ausgeführt werden. +
Im Rahmen von Smoke Tests auf einer deployten Umgebung kommen keine Bugs zum Vorschein, welche mit den gemachten Änderungen korrelieren.
|===

[cols="2,6"]
|===
|**ID**|SZ-MOD-5 (Erweiterung)
|**Quelle des Stimulus**|Kunde / Physiotherapeut
|**Stimulus**|Will Daten von einem bestehenden Dokumentationssystem via API importieren
|**Umgebung**|Entwicklungszeit
|**System / Artefakte**|PhysioConnect / API für Dokumentationssystem, interne Layer
|**Antwort / Verhalten**|Das Entwicklungsteam enwirft, implementiert, testet und deployed die initiale Version einer API, welche den Datenimport aus einem vordefinierten Dokumentationssystem ermöglichen soll. Der Umfang der Erweiterung spannt sich vom API Layer bis hin zur Persistenzschicht.
|**Metrik für Erfüllungsgrad**|Die Bereitstellung einer initialen API ist innerhalb von 1-2 Personenwochen realisierbar (Design, Implement, Test, Deploy). +
100% der bisherigen Tests (Unit, Integration, E2E) können fehlerfrei ausgeführt werden. +
Im Rahmen von Smoke Tests auf einer deployten Umgebung kommen keine Bugs zum Vorschein, welche mit der bereitgestellten API korrelieren.
|===

[cols="2,6"]
|===
|**ID**|SZ-MOD-6 (Erweiterung)
|**Quelle des Stimulus**|Medizinisches Forschungsteam
|**Stimulus**|Will anonymisierte Gesundheitsdaten von unserem System beziehen
|**Umgebung**|Entwicklungszeit
|**System / Artefakte**|PhysioConnect / API für Lesezugriff auf Daten, interne Layer (bis hin zu Persistenzschicht)
|**Antwort / Verhalten**|Das Entwicklungsteam enwirft, implementiert, testet und deployed die initiale Version einer API, welche den Lesezugriff auf anonymisierte Gesundheits- / Messdaten ermöglichen soll. Der Umfang der Erweiterung spannt sich vom API Layer bis hin zur Persistenzschicht.
|**Metrik für Erfüllungsgrad**|Die Bereitstellung einer initialen API ist innerhalb von 1-2 Personenwochen realisierbar (Design, Implement, Test, Deploy). +
100% der bisherigen Tests (Unit, Integration, E2E) können fehlerfrei ausgeführt werden. +
Im Rahmen von Smoke Tests auf einer deployten Umgebung kommen keine Bugs zum Vorschein, welche mit der bereitgestellten API korrelieren. +
Es kann sichergestellt werden, dass 100% der bereitgestellten Gesundheitsdaten anonymisiert sind.
|===

[cols="2,6"]
|===
|**ID**|SZ-MOD-7 (Erweiterung)
|**Quelle des Stimulus**|Medizinisches Forschungsteam
|**Stimulus**|Will bereitgestellte Gesundheitsdaten Labeln, damit diese zum Training von https://www.ibm.com/cloud/learn/supervised-learning[Supervised / Semi-Supervised Learning] AI-Modellen verwendet werden können
|**Umgebung**|Entwicklungszeit
|**System / Artefakte**|PhysioConnect / API für Eingabe von Labeling-Vorschlägen, interne Layer (bis hin zu Persistenzschicht)
|**Antwort / Verhalten**|Das Entwicklungsteam enwirft, implementiert, testet und deployed die initiale Version einer API, welche die Eingabe von Labeling-Vorschlägen ermöglichen soll. Die Labels sollen zusammen mit den bereits bestehenden, anonymisierten Gesundheitsdaten abgelegt werden. +
Der Umfang der Erweiterung spannt sich vom API Layer bis hin zur Persistenzschicht.
|**Metrik für Erfüllungsgrad**|Die Bereitstellung einer initialen API ist innerhalb von 1-2 Personenwochen realisierbar (Design, Implement, Test, Deploy). +
100% der bisherigen Tests (Unit, Integration, E2E) können fehlerfrei ausgeführt werden. +
Im Rahmen von Smoke Tests auf einer deployten Umgebung kommen keine Bugs zum Vorschein, welche mit der bereitgestellten API korrelieren. +
Es kann sichergestellt werden, dass 100% der bereitgestellten Gesundheitsdaten anonymisiert sind. +
Es kann sichergestellt werden, dass 100% der bereitgestellten Gesundheitsdaten mit den vorgeschlagenen Labels versehen sind. 
|===

==== Time behaviour (Performance Efficiency)

[cols="2,6"]
|===
|**ID**|SZ-TIB-1
|**Quelle des Stimulus**|Patient via Fitnesstracker-App
|**Stimulus**|Verarbeitung parallel eingehender Messdaten-Requests
|**Umgebung**|Laufzeit
|**System / Artefakte**|PhysioConnect / API Request Handler für App, interne Layer
|**Antwort / Verhalten**|Gleichzeitig eingehende Messdaten (ausgehend von verschiedenen Patienten) werden in unabhängigen Threads verarbeitet und zuverlässig persistiert. Gemeinsam genutzte Ressourcen (z.B. Datenspeicher) sind mit entsprechenden Synchronisationsmechanismen (z.B. Semaphoren) abgesichert, um Concurrency Exceptions und inkonsistenten Datenständen vorzubeugen.
|**Metrik für Erfüllungsgrad**|99% der API-Requests zum Ablegen eingehender Messdaten werden intern (sprich abzüglich der Netzwerk-Latenzzeit) innerhalb von 100 Millisekunden verarbeitet (Eingang des Requests, formale Prüfung, Persistierung, Response).
|===

==== Capacity (Performance Efficiency)

[cols="2,6"]
|===
|**ID**|SZ-CAP-1
|**Quelle des Stimulus**|Benutzer von PhysioConnect
|**Stimulus**|Parallele Verwendung von PhysioConnect durch mehrere Benutzer (z.B. Physiotherapeuten + Vorgesetzte + Patienten)
|**Umgebung**|Laufzeit
|**System / Artefakte**|PhysioConnect / Gesamtsystem
|**Antwort / Verhalten**|PhysioConnect verarbeitet verschiedenste Request-Typen (z.B. Verarbeitung eingehender Messdaten, Monitoring, Reporting, Erstellung einer neuen Therapie) in unabhängigen Threads und ermöglicht somit mehreren Parteien, das System gleichzeitig zu verwenden.
|**Metrik für Erfüllungsgrad**|Das System ermöglicht den einwandfreien Betrieb mit 100 gleichzeitigen Benutzern. Einwandfrei bedeutet in dem Fall: +
95% aller Requests, deren Response zu einem sichtbaren Ergebnis auf Benutzerseite führen, dauern weniger als 1 Sekunde.
|===

==== Fault tolerance (Reliability)

[cols="2,6"]
|===
|**ID**|SZ-FLT-1
|**Quelle des Stimulus**|Übungskatalog
|**Stimulus**|Übungskatalog ist nicht / eingeschränkt erreichbar und / oder gibt Request-unabhängige Fehlermeldungen zurück
|**Umgebung**|Laufzeit
|**System / Artefakte**|PhysioConnect / Gesamtsystem
|**Antwort / Verhalten**|Requests zum Übungskatalog werden nach Ablauf eines vordefinierten Timeouts (z.B. 5 Sekunden) auf Basis einer Retry-Policy mehrmals wiederholt (z.B. 2 Wiederholungen). Nach erfolglosem Ablauf aller Wiederholungen wird das Nichterreichen des Übungskatalogs geloggt und die interne Funktionslogik wird - sofern sinnvoll - ohne Fehler fortgesetzt. Alternativ wird eine entsprechende Response mit Fehlercode zurückgegeben. +
Request-unabhängige Fehlermeldungen des Übungskatalogs werden geloggt und führen zu der Rückgabe einer entsprechenden Response mit Fehlercode.
|**Metrik für Erfüllungsgrad**|Das Nichterreichen des Übungskatalogs oder Request-unabhängige Fehlermeldungen führen zu keiner Exception seitens PhysioConnect, sondern a) zu einer normalen Weiterführung der internen Funktionslogik (falls sinnvoll) oder b) zu einer Response mit Fehlercode und benutzerfreundlichen Fehlermeldung. +
100% der auftretenden Verbindungsprobleme zum Übungskatalog werden geloggt.
|===

[cols="2,6"]
|===
|**ID**|SZ-FLT-2
|**Quelle des Stimulus**|Benutzerverwaltung
|**Stimulus**|Benutzerverwaltung ist nicht / eingeschränkt erreichbar und / oder gibt Request-unabhängige Fehlermeldungen zurück
|**Umgebung**|Laufzeit
|**System / Artefakte**|PhysioConnect / Gesamtsystem
|**Antwort / Verhalten**|Requests zur Benutzerverwaltung werden nach Ablauf eines vordefinierten Timeouts (z.B. 5 Sekunden) auf Basis einer Retry-Policy mehrmals wiederholt (z.B. 2 Wiederholungen). Nach erfolglosem Ablauf aller Wiederholungen wird das Nichterreichen der Benutzerverwaltung geloggt und die interne Funktionslogik wird - sofern sinnvoll - ohne Fehler fortgesetzt. Alternativ wird eine entsprechende Response mit Fehlercode zurückgegeben. +
Request-unabhängige Fehlermeldungen der Benutzerverwaltung werden geloggt und führen zu der Rückgabe einer entsprechenden Response mit Fehlercode.
|**Metrik für Erfüllungsgrad**|Das Nichterreichen der Benutzerverwaltung oder Request-unabhängige Fehlermeldungen führen zu keiner Exception seitens PhysioConnect, sondern a) zu einer normalen Weiterführung der internen Funktionslogik (falls sinnvoll) oder b) zu einer Response mit Fehlercode und benutzerfreundlichen Fehlermeldung. +
100% der auftretenden Verbindungsprobleme zu der Benutzerverwaltung werden geloggt.
|===

==== Installability (Portability)

[cols="2,6"]
|===
|**ID**|SZ-INT-1 (Erweiterung)
|**Quelle des Stimulus**|Kunde, Technische Integratoren von PhysioConnect (z.B. IT-Abteilung des Kunden)
|**Stimulus**|On Premise-Betrieb von PhysioConnect
|**Umgebung**|Installationszeit, Konfigurationszeit
|**System / Artefakte**|PhysioConnect / Gesamtsystem
|**Antwort / Verhalten**|PhysioConnect ist in einer kundenspezifischen System- und Applikationslandschaft, welche on premise läuft, mit vertretbarem Aufwand und Komplexität integrierbar (beinhaltet Installation und Konfiguration).
|**Metrik für Erfüllungsgrad**|PhysioConnect soll unter Einbezug und Verfügbarkeit aller relevanten Parteien (Entwickler / Architekt seitens PhysioConnect, Entwickler / Integratoren seitens IT-Abteilung des Kunden) innerhalb von 1 Personenwoche auf einer beliebigen on premise-Umgebung, welche die System- und Ressourcenanforderungen erfüllt, installiert und initial konfiguriert sein. +
Der Aufwand und die Komplexität bezüglich der einwandfreien Kommunikation mit bestehenden Umsystemen ist dabei nicht Teil dieses Szenarios und muss individuell evaluiert und szenariotechnisch quantifiziert werden.
|===

=== Quality Tree

Die nachfolgend ersichtliche Darstellung repräsentiert eine Priorisierung / Gewichtung der oberhalb definierten Szenarien in Form eines Quality Trees, um eine zukünftige Evaluation der Systemarchitektur gemäss ATAM (Architecture Tradeoff Analysis Method) zu ermöglichen. +
Die mit __(Erweiterung)__ gekennzeichneten Szenarien werden in der Initialversion des Quality Trees ausgelassen, da sie ein potentieller Bestandteil zukünftiger Versionen / Iterationen der Systemarchitektur sind.

plantuml::quality_requirements/quality_tree.puml[format=svg]

Aus dem obigen Quality Tree lassen sich die folgenden Erkenntnisse extrahieren:

1. Die folgenden Szenarien sind von besonderer Relevanz
** SZ-CNF-1 +
Einhaltung der geltenden Datenschutzverordnungen und Sicherheitsstandards in Bezug auf die Ablage persönlicher Gesundheitsdaten.
** SZ-IOP-1 +
Zuverlässige Interoperabilität zwischen Patienten-App (Smartphone / Fitnesstracker) und PhysioConnect bezüglich der Übermittlung von aufgezeichneten Gesundheitsdaten (z.B. Puls, Blutdruck).
** SZ-IOP-2 +
Zuverlässige Interoperabilität zwischen Patienten-App (Smartphone / Fitnesstracker) und PhysioConnect bezüglich der Ausführung verschiedener Operationen (z.B. Start einer Therapie-Session).
** SZ-MOD-1 +
Einfache und effiziente Erweiterung von PhysioConnect bezüglich der Unterstützung neuer Messdatentypen (z.B. Körpertemperatur) pro Übung.

2. Die restlichen Szenarien (und damit verbundenen Quality Attributes) befinden sich mehrheitlich auf derselben Relevanzstufe, wodurch sie bei Architekturentscheidungen zu gleichen Teilen berücksichtigt werden müssen.
